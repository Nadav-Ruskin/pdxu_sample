plugins {
    id 'java'
    id 'application'
    id "org.moditect.gradleplugin" version "1.0.0-rc3"
}

group 'com.crschnick'
version '1.0-SNAPSHOT'

repositories {
    mavenCentral()
    flatDir{
        dirs file("$rootDir/dependencies")
    }
}

apply from: "$rootDir/gradle/module_gen.gradle"

application {
    mainModule = 'com.crschnick.pdxu.sample'
    mainClass = 'com.crschnick.pdxu.sample.Main'
}

dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.8.1'
    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine:5.8.1'
    implementation name: 'pdxu-io'
    implementation 'org.graalvm.js:js:22.3.0'
    implementation files("$project.buildDir/generated-modules/commons-lang3-3.12.0.jar")
}

test {
    useJUnitPlatform()
}